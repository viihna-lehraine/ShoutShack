import { connectDB } from './db/main.js';
import { env } from './config/env.js';
import { fastify } from './app.js';
const start = async () => {
    try {
        await connectDB();
        await fastify.listen({ port: env.SERVER_PORT, host: env.SERVER_HOST });
        console.log(`Fastify server running at http://${env.SERVER_HOST}:${env.SERVER_PORT}/`);
    }
    catch (err) {
        console.error('Server startup failed:', err);
        process.exit(1);
    }
};
start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc3RhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUN6QyxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUVuQyxNQUFNLEtBQUssR0FBRyxLQUFLLElBQUksRUFBRTtJQUN4QixJQUFJLENBQUM7UUFDSixNQUFNLFNBQVMsRUFBRSxDQUFDO1FBQ2xCLE1BQU0sT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUN2RSxPQUFPLENBQUMsR0FBRyxDQUFDLG9DQUFvQyxHQUFHLENBQUMsV0FBVyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3hGLENBQUM7SUFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUM3QyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7QUFDRixDQUFDLENBQUM7QUFFRixLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbm5lY3REQiB9IGZyb20gJy4vZGIvbWFpbi5qcyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuL2NvbmZpZy9lbnYuanMnO1xuaW1wb3J0IHsgZmFzdGlmeSB9IGZyb20gJy4vYXBwLmpzJztcblxuY29uc3Qgc3RhcnQgPSBhc3luYyAoKSA9PiB7XG5cdHRyeSB7XG5cdFx0YXdhaXQgY29ubmVjdERCKCk7XG5cdFx0YXdhaXQgZmFzdGlmeS5saXN0ZW4oeyBwb3J0OiBlbnYuU0VSVkVSX1BPUlQsIGhvc3Q6IGVudi5TRVJWRVJfSE9TVCB9KTtcblx0XHRjb25zb2xlLmxvZyhgRmFzdGlmeSBzZXJ2ZXIgcnVubmluZyBhdCBodHRwOi8vJHtlbnYuU0VSVkVSX0hPU1R9OiR7ZW52LlNFUlZFUl9QT1JUfS9gKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y29uc29sZS5lcnJvcignU2VydmVyIHN0YXJ0dXAgZmFpbGVkOicsIGVycik7XG5cdFx0cHJvY2Vzcy5leGl0KDEpO1xuXHR9XG59O1xuXG5zdGFydCgpO1xuIl19