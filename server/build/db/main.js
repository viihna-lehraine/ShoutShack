// File: server/src/db/main.ts
import { env } from '../config/env.js';
import { Kysely, PostgresDialect } from 'kysely';
import pg from 'pg';
const { Pool } = pg;
export const db = new Kysely({
    dialect: new PostgresDialect({
        pool: new Pool({
            user: env.POSTGRES_USER,
            host: env.POSTGRES_HOST,
            database: env.POSTGRES_DB,
            password: env.POSTGRES_PASSWORD,
            port: env.POSTGRES_PORT
        })
    })
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYi9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QjtBQUc5QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDdkMsT0FBTyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDakQsT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBRXBCLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFFcEIsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLElBQUksTUFBTSxDQUFXO0lBQ3RDLE9BQU8sRUFBRSxJQUFJLGVBQWUsQ0FBQztRQUM1QixJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUM7WUFDZCxJQUFJLEVBQUUsR0FBRyxDQUFDLGFBQWE7WUFDdkIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxhQUFhO1lBQ3ZCLFFBQVEsRUFBRSxHQUFHLENBQUMsV0FBVztZQUN6QixRQUFRLEVBQUUsR0FBRyxDQUFDLGlCQUFpQjtZQUMvQixJQUFJLEVBQUUsR0FBRyxDQUFDLGFBQWE7U0FDdkIsQ0FBQztLQUNGLENBQUM7Q0FDRixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBzZXJ2ZXIvc3JjL2RiL21haW4udHNcblxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tICcuLi90eXBlcy9pbmRleC5qcyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi9jb25maWcvZW52LmpzJztcbmltcG9ydCB7IEt5c2VseSwgUG9zdGdyZXNEaWFsZWN0IH0gZnJvbSAna3lzZWx5JztcbmltcG9ydCBwZyBmcm9tICdwZyc7XG5cbmNvbnN0IHsgUG9vbCB9ID0gcGc7XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBLeXNlbHk8RGF0YWJhc2U+KHtcblx0ZGlhbGVjdDogbmV3IFBvc3RncmVzRGlhbGVjdCh7XG5cdFx0cG9vbDogbmV3IFBvb2woe1xuXHRcdFx0dXNlcjogZW52LlBPU1RHUkVTX1VTRVIsXG5cdFx0XHRob3N0OiBlbnYuUE9TVEdSRVNfSE9TVCxcblx0XHRcdGRhdGFiYXNlOiBlbnYuUE9TVEdSRVNfREIsXG5cdFx0XHRwYXNzd29yZDogZW52LlBPU1RHUkVTX1BBU1NXT1JELFxuXHRcdFx0cG9ydDogZW52LlBPU1RHUkVTX1BPUlRcblx0XHR9KVxuXHR9KVxufSk7XG4iXX0=